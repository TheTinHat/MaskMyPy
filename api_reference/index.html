
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Geographic Masking Python Package">
      
      
      
        <link rel="canonical" href="https://thetinhat.github.io/MaskMyPy/api_reference/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.0, mkdocs-material-8.5.4">
    
    
      
        <title>API Reference - MaskMyPy Documentation</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.80dcb947.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../assets/style.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#masks" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="MaskMyPy Documentation" class="md-header__button md-logo" aria-label="MaskMyPy Documentation" data-md-component="logo">
      
  <img src="../assets/python_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            MaskMyPy Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="MaskMyPy Documentation" class="md-nav__button md-logo" aria-label="MaskMyPy Documentation" data-md-component="logo">
      
  <img src="../assets/python_logo.png" alt="logo">

    </a>
    MaskMyPy Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        API Reference
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#masks" class="md-nav__link">
    Masks
  </a>
  
    <nav class="md-nav" aria-label="Masks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.mask.Mask" class="md-nav__link">
    Mask
  </a>
  
    <nav class="md-nav" aria-label="Mask">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.mask.Mask.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut" class="md-nav__link">
    Donut
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut_Multiply" class="md-nav__link">
    Donut_Multiply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut_K" class="md-nav__link">
    Donut_K
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Street" class="md-nav__link">
    Street
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    Tools
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.displacement" class="md-nav__link">
    displacement()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.estimate_k" class="md-nav__link">
    estimate_k()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.calculate_k" class="md-nav__link">
    calculate_k()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.map_displacement" class="md-nav__link">
    map_displacement()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../donut/" class="md-nav__link">
        Donut Masking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../street/" class="md-nav__link">
        Street Masking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tools/" class="md-nav__link">
        Tools
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#masks" class="md-nav__link">
    Masks
  </a>
  
    <nav class="md-nav" aria-label="Masks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.mask.Mask" class="md-nav__link">
    Mask
  </a>
  
    <nav class="md-nav" aria-label="Mask">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.mask.Mask.run" class="md-nav__link">
    run()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut" class="md-nav__link">
    Donut
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut_Multiply" class="md-nav__link">
    Donut_Multiply
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Donut_K" class="md-nav__link">
    Donut_K
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.Street" class="md-nav__link">
    Street
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tools" class="md-nav__link">
    Tools
  </a>
  
    <nav class="md-nav" aria-label="Tools">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.displacement" class="md-nav__link">
    displacement()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.estimate_k" class="md-nav__link">
    estimate_k()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.calculate_k" class="md-nav__link">
    calculate_k()
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#maskmypy.tools.map_displacement" class="md-nav__link">
    map_displacement()
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>API Reference</h1>

<h2 id="masks">Masks<a class="headerlink" href="#masks" title="Permanent link">&para;</a></h2>
<p>Every available mask inherits from the <code>maskmypy.mask.Mask</code> class. To reduce a huge amount of duplicated documentation, only new parameters are described in child classes. Refer to the parent class for a full list of parameters.</p>


<div class="doc doc-object doc-class">



<h3 id="maskmypy.mask.Mask" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">Mask</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">population</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pop_col</span><span class="o">=</span><span class="s1">&#39;pop&#39;</span><span class="p">,</span> <span class="n">container</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">max_tries</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#maskmypy.mask.Mask" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">


  
      <p>A base class that all masks inherit from. Do not use this class for masking.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>secret</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Secret layer of points that require anonymization.
All other GeoDataFrame inputs must match the CRS of the secret point layer.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>padding</code></td>
          <td>
                <code>int, float, optional</code>
          </td>
          <td><p>Context layers (e.g. population, address, container, street network) are
automatically cropped to the extent of the secret layer, plus some amount of padding
to reduce edge effects. By default, padding is set to one fifth the <em>x</em> or <em>y</em>
extent, whichever is larger. This parameter allows you to instead specify an exact
amount of padding to be added. Recommended if the extent of the secret layer is either
very small or very large. Units should match that of the secret layer's CRS.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>max_tries</code></td>
          <td>
                <code>int, optional</code>
          </td>
          <td><p>The maximum number of times that MaskMyPy should re-mask a point until it is
contained within the corresponding polygon (see <code>container</code> parameter).</p></td>
          <td>
                <code>1000</code>
          </td>
        </tr>
        <tr>
          <td><code>seed</code></td>
          <td>
                <code>int, optional</code>
          </td>
          <td><p>Used to seed the random number generator so that masks are reproducible.
In other words, given a certain seed, MaskMyPy will always mask data the exact same way.
If left unspecified, a seed is randomly selected using <code>SystemRandom</code></p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>population</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span>, optional</code>
          </td>
          <td><p>A polygon layer with a column describing population count.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>pop_col</code></td>
          <td>
                <code>str, optional</code>
          </td>
          <td><p>The name of the population count column in the population polygon layer.</p></td>
          <td>
                <code>&#39;pop&#39;</code>
          </td>
        </tr>
        <tr>
          <td><code>container</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span>, optional</code>
          </td>
          <td><p>A layer containing polygons within which intersecting secret points should remain
after masking. This works by masking a point, checking if it intersects
the same polygon prior to masking, and retrying until it does. The number of attempts
is controlled by the <code>max_tries</code> parameter. Useful for preserving statistical values,
such as from census tracts, or to ensure that points are not displaced into impossible
locations, such as the ocean.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>address</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span>, optional</code>
          </td>
          <td><p>A layer containing address points.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">









<div class="doc doc-object doc-function">



<h4 id="maskmypy.mask.Mask.run" class="doc doc-heading">
<code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">displacement</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">estimate_k</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">calculate_k</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">map_displacement</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#maskmypy.mask.Mask.run" class="headerlink" title="Permanent link">&para;</a></h4>


  <div class="doc doc-contents ">
  
      <p>Run the masking procedure to anonymize secret points.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>displacement</code></td>
          <td>
                <code>bool, optional</code>
          </td>
          <td><p>If <code>True</code>, add a <code>distance</code> column containing the displacement distance.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>estimate_k</code></td>
          <td>
                <code>bool, optional</code>
          </td>
          <td><p>If <code>True</code>, estimate the k-anonymity of each anonymized point based on surrounding
population density. Requires a population layer to be loaded into the masking object.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>calculate_k</code></td>
          <td>
                <code>bool, optional</code>
          </td>
          <td><p>If <code>True</code>, calculate the k-anonymity of each anonymized point based on nearby address
points. Requires an address layer to be loaded into the masking class.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
        <tr>
          <td><code>map_displacement</code></td>
          <td>
                <code>bool, optional</code>
          </td>
          <td><p>If <code>True</code>, output a file called <code>displacement_map.png</code> that visualizes displacement
distance between secret and masked points.</p></td>
          <td>
                <code>False</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>A GeoDataFrame of anonymized points.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>



  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="maskmypy.Donut" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">Donut</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">min_distance</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">max_distance</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">distribution</span><span class="o">=</span><span class="s1">&#39;uniform&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#maskmypy.Donut" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="maskmypy.mask.Mask" href="#maskmypy.mask.Mask">Mask</a></code></p>


  
      <p>Constructs a donut masking class that (when run) anonymizes points by randomly
displacing them between a minimum and maximum distance.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>min_distance</code></td>
          <td>
                <code>int, float</code>
          </td>
          <td><p>The minimum distance that points should be displaced.</p></td>
          <td>
                <code>50</code>
          </td>
        </tr>
        <tr>
          <td><code>max_distance</code></td>
          <td>
                <code>int, float</code>
          </td>
          <td><p>The maximum distance that points should be displaced.</p></td>
          <td>
                <code>500</code>
          </td>
        </tr>
        <tr>
          <td><code>distribution</code></td>
          <td>
                <code>str, optional</code>
          </td>
          <td><p>The distribution used to determine masking distances. The default <code>uniform</code> provides
a flat distribution where any value between the minimum and maximum distance is
equally likely to be selected. The <code>areal</code> distribution is more likely to select
distances that are further away. The <code>gaussian</code> distribution uses a normal
distribution, where values towards the middle of the range are most likely to be
selected. Note that gaussian distribution has a small chance of selecting values
beyond the defined minimum and maximum.</p></td>
          <td>
                <code>&#39;uniform&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="maskmypy.Donut_Multiply" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">Donut_Multiply</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">population_multiplier</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#maskmypy.Donut_Multiply" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="maskmypy.donut.Donut" href="#maskmypy.Donut">Donut</a></code></p>


  
      <p>Constructs a masking class that (when run) anonymizes points by randomly displacing
them according to a minimum and maximum distance, but with an additional multiplier
to help take population density into account. Points in the most population-dense areas
will have their minimum and maximum masking distances multiplied by 1. This multiplier
will increase linearly as population density decreases, with points in the least
population-dense areas having their minimum and maximum masking distances multiplied
by the full <code>population_mulitplier</code> value.</p>
<p>Requires a population layer.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>population_multiplier</code></td>
          <td>
                <code>int, float</code>
          </td>
          <td><p>The maximum possible multiplier used to extend masking distances according to
population density.</p></td>
          <td>
                <code>5</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="maskmypy.Donut_K" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">Donut_K</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">min_k</span><span class="p">,</span> <span class="n">max_k</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#maskmypy.Donut_K" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="maskmypy.donut.Donut" href="#maskmypy.Donut">Donut</a></code></p>


  
      <p>Constructs a masking class that (when run) anonymizes points by randomly displacing
them according to a desired k-anonymity range. Note that the k-anonymity values only
reflect the population density at the point location itself, and do not take into
account any surrounding area. This is in contrast to the <code>estimate_k</code> tool, which
will actually disaggregate nearby population polygons to construct a more accurate
estimate of k-anonymity.</p>
<p>Requires a population layer.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>min_k</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The minimum desired k-anonymity for each point. Used instead of <code>min_distance</code>. Please read description above to learn
the limitations of this calculation.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>max_k</code></td>
          <td>
                <code>int</code>
          </td>
          <td><p>The maximum desired k-anonymity for each point. Used instead of <code>max_distance</code>. Please read description above to learn
the limitations of this calculation.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div>

<div class="doc doc-object doc-class">



<h3 id="maskmypy.Street" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">Street</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="n">min_depth</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span> <span class="n">max_depth</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">max_length</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

<a href="#maskmypy.Street" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
      <p class="doc doc-class-bases">
        Bases: <code><a class="autorefs autorefs-internal" title="maskmypy.mask.Mask" href="#maskmypy.mask.Mask">Mask</a></code></p>


  
      <p>Constructs a street masking class that (when run) anonymizes points by randomly
displacing them based on the surrounding street network using OpenStreetMap.</p>
<p>Does not support containment.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>min_depth</code></td>
          <td>
                <code>int, optional</code>
          </td>
          <td><p>The minimum number of nodes to traverse along the street network. Default: <code>18</code></p></td>
          <td>
                <code>18</code>
          </td>
        </tr>
        <tr>
          <td><code>max_depth</code></td>
          <td>
                <code>int, optional</code>
          </td>
          <td><p>The maximum number of nodes to traverse along the street network. Default: <code>20</code></p></td>
          <td>
                <code>20</code>
          </td>
        </tr>
        <tr>
          <td><code>max_length</code></td>
          <td>
                <code>int, float, optional</code>
          </td>
          <td><p>Sets a limit for street length, such that any street segments longer than this value
will be ignored. Useful for ignoring very long streets that would skew the results,
such as highways.</p></td>
          <td>
                <code>500</code>
          </td>
        </tr>
    </tbody>
  </table>


  

  <div class="doc doc-children">











  </div>

  </div>

</div><h2 id="tools">Tools<a class="headerlink" href="#tools" title="Permanent link">&para;</a></h2>
<p>MaskMyPy offers several tools for evaluating geographic masks, even if they were not performed by MaskMyPy.</p>


<div class="doc doc-object doc-function">



<h3 id="maskmypy.tools.displacement" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">displacement</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">colname</span><span class="o">=</span><span class="s1">&#39;_distance&#39;</span><span class="p">)</span></code>

<a href="#maskmypy.tools.displacement" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
  
      <p>Calculates the displacement distance between secret and masked points.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>secret</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Secret points prior to masking.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>mask</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Points after masking</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>colname</code></td>
          <td>
                <code>str, optional</code>
          </td>
          <td><p>Name for the output displacement distance column, by default "_distance"</p></td>
          <td>
                <code>&#39;_distance&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>A GeoDataFrame with a column describing displacement distances</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="maskmypy.tools.estimate_k" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">estimate_k</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">population</span><span class="p">,</span> <span class="n">pop_col</span><span class="o">=</span><span class="s1">&#39;pop&#39;</span><span class="p">)</span></code>

<a href="#maskmypy.tools.estimate_k" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
  
      <p>Estimate the k-anonymity of each anonymized point based on surrounding population density.
Typically less accurate the <code>calculate_k</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>secret</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Secret points prior to masking.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>mask</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Points after masking</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>population</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>A polygon layer with a column describing population count.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>pop_col</code></td>
          <td>
                <code>str, optional</code>
          </td>
          <td><p>The name of the population count column in the population polygon layer.</p></td>
          <td>
                <code>&#39;pop&#39;</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>A GeoDataFrame with a column describing k-anonymity.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="maskmypy.tools.calculate_k" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">calculate_k</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">address</span><span class="p">)</span></code>

<a href="#maskmypy.tools.calculate_k" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
  
      <p>Calculate the k-anonymity of each anonymized point based on surrounding address points.
Typically more accurate the <code>estimate_k</code>.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>secret</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Secret points prior to masking.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>mask</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Points after masking</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>address</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span>, optional</code>
          </td>
          <td><p>A layer containing address points.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>A GeoDataFrame with a column describing k-anonymity.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

<div class="doc doc-object doc-function">



<h3 id="maskmypy.tools.map_displacement" class="doc doc-heading">
<code class="highlight language-python"><span class="n">maskmypy</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">map_displacement</span><span class="p">(</span><span class="n">secret</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">address</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#maskmypy.tools.map_displacement" class="headerlink" title="Permanent link">&para;</a></h3>


  <div class="doc doc-contents first">
  
      <p>Creates a map visualizing the displacement of each point between its
original and masked location.</p>

  <p><strong>Parameters:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Name</th>
        <th>Type</th>
        <th>Description</th>
        <th>Default</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td><code>secret</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Secret points prior to masking.</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>mask</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span></code>
          </td>
          <td><p>Points after masking</p></td>
          <td>
              <em>required</em>
          </td>
        </tr>
        <tr>
          <td><code>filename</code></td>
          <td>
                <code>str, optional</code>
          </td>
          <td><p>If specified, saves the output map to a file.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
        <tr>
          <td><code>address</code></td>
          <td>
                <code><span title="geopandas.GeoDataFrame">GeoDataFrame</span>, optional</code>
          </td>
          <td><p>A layer containing address points.</p></td>
          <td>
                <code>None</code>
          </td>
        </tr>
    </tbody>
  </table>

  <p><strong>Returns:</strong></p>
  <table>
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
        <tr>
          <td>
                <code>matplotlib.<span title="matplotlib.pyplot">pyplot</span>.<span title="matplotlib.pyplot.plt">plt</span></code>
          </td>
          <td><p>A plot depicting secret and masked points connected by lines.</p></td>
        </tr>
    </tbody>
  </table>

  </div>

</div>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">September 30, 2022</span>
      
    
  </small>
</div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href=".." class="md-footer__link md-footer__link--prev" aria-label="Previous: Home" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Home
            </div>
          </div>
        </a>
      
      
        
        <a href="../donut/" class="md-footer__link md-footer__link--next" aria-label="Next: Donut Masking" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Donut Masking
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>